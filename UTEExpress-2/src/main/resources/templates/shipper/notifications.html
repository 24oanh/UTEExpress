<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Thông báo</title>
<link rel="stylesheet" th:href="@{/css/shipper.css}">
</head>
<body>
	<div th:replace="~{fragments/shipper-header :: header}"></div>
	<div class="container">
		<div class="page-header">
			<h1>Thông báo</h1>
			<button onclick="markAllRead()" class="btn-secondary">Đánh
				dấu đã đọc tất cả</button>
		</div>

		<div class="notification-list"
			th:attr="data-recipient-id=${session.currentShipper.id}">
			<div th:each="notif : ${notifications}"
				th:class="${notif.isRead ? 'notification-item read' : 'notification-item unread'}">
				<div class="notif-header">
					<span th:class="'badge badge-' + ${notif.type}"
						th:text="${notif.type}"></span> <span class="notif-time"
						th:text="${#temporals.format(notif.createdAt, 'dd/MM HH:mm')}"></span>
				</div>
				<p class="notif-message" th:text="${notif.message}"></p>
				<div class="notif-actions">
					<a th:if="${notif.order != null}"
						th:href="@{/shipper/orders/{id}(id=${notif.order.id})}"
						class="btn-sm">Xem đơn</a>
					<button th:if="${!notif.isRead}"
						th:onclick="'markReadShipper(' + ${notif.id} + ')'" class="btn-sm">Đã
						đọc</button>
				</div>
			</div>
		</div>
	</div>
	<script th:src="@{/js/shipper-notifications.js}"></script>
</body>
</html>