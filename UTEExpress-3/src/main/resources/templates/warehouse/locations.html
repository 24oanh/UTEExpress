<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Vị trí kho</title>
    <link rel="stylesheet" th:href="@{/css/warehouse.css}">
</head>
<body>
    <div th:replace="~{fragments/warehouse-header :: header}"></div>
    <div class="container">
        <div class="page-header">
            <h1>Vị trí kho</h1>
            <a th:href="@{/warehouse/locations/create}" class="btn-primary">Tạo vị trí mới</a>
        </div>
        
        <table>
            <thead>
                <tr>
                    <th>Mã vị trí</th>
                    <th>Khu vực</th>
                    <th>Giá</th>
                    <th>Tầng</th>
                    <th>Vị trí</th>
                    <th>Trạng thái</th>
                    <th>Kiện hàng</th>
                    <th>Thao tác</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="loc : ${locations}">
                    <td th:text="${loc.locationCode}"></td>
                    <td th:text="${loc.zone}"></td>
                    <td th:text="${loc.rack}"></td>
                    <td th:text="${loc.level}"></td>
                    <td th:text="${loc.position}"></td>
                    <td><span th:class="'badge badge-' + ${loc.status}" th:text="${loc.status}"></span></td>
                    <td th:text="${loc.packageItem != null ? loc.packageItem.packageCode : '-'}"></td>
                    <td>
                        <form th:action="@{/warehouse/locations/{id}/update-status(id=${loc.id})}" method="post" class="inline-form">
                            <select name="status">
                                <option value="EMPTY">Trống</option>
                                <option value="OCCUPIED">Đã dùng</option>
                                <option value="MAINTENANCE">Bảo trì</option>
                            </select>
                            <button type="submit" class="btn-sm">Cập nhật</button>
                        </form>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</body>
</html>